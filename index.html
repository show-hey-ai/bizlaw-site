<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒ“ã‚¸ãƒã‚¹æ³•å‹™æ¤œå®š3ç´š - æ¯æ—¥ã®å­¦ç¿’ã‚µã‚¤ãƒˆ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Yu Gothic', 'Meiryo', sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            text-align: center;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }

        .header h1 {
            color: #4a5568;
            font-size: 2.2em;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .header p {
            color: #718096;
            font-size: 1.1em;
        }

        .date-display {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            text-align: center;
            font-size: 1.2em;
            color: #4a5568;
            font-weight: bold;
        }

        .section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }

        .section h2 {
            color: #4a5568;
            margin-bottom: 20px;
            font-size: 1.8em;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        .question-item {
            background: #f7fafc;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 5px solid #667eea;
        }

        .question-number {
            color: #667eea;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .question-text {
            font-size: 1.1em;
            margin-bottom: 15px;
            line-height: 1.8;
        }

        .answer-button {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s ease;
            margin-bottom: 15px;
        }

        .answer-button:hover {
            background: #5a67d8;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .answer-section {
            display: none;
            background: #e6fffa;
            border-radius: 8px;
            padding: 15px;
            margin-top: 10px;
            border: 1px solid #81e6d9;
        }

        .answer-section.show {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .correct-answer {
            font-weight: bold;
            color: #38a169;
            margin-bottom: 10px;
        }

        .explanation {
            color: #2d3748;
            line-height: 1.7;
        }

        .story-section {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            border-radius: 15px;
            padding: 25px;
            text-align: center;
        }

        .story-title {
            color: #744210;
            font-size: 1.5em;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .story-content {
            color: #744210;
            font-size: 1.1em;
            line-height: 1.8;
            font-style: italic;
        }

        .archive-section {
            background: rgba(255, 255, 255, 0.9);
        }

        .archive-links {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .archive-link {
            background: #f7fafc;
            padding: 15px;
            border-radius: 8px;
            text-decoration: none;
            color: #4a5568;
            border: 2px solid #e2e8f0;
            transition: all 0.3s ease;
            text-align: center;
        }

        .archive-link:hover {
            border-color: #667eea;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .report-section {
            text-align: center;
            padding: 20px;
        }

        .report-link {
            display: inline-block;
            background: #e53e3e;
            color: white;
            padding: 12px 24px;
            border-radius: 25px;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .report-link:hover {
            background: #c53030;
            transform: translateY(-2px);
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: #718096;
        }

        .error {
            background: #fed7d7;
            color: #c53030;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 1.8em;
            }
            
            .section {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>ğŸ“š ãƒ“ã‚¸ãƒã‚¹æ³•å‹™æ¤œå®š3ç´š</h1>
            <p>æ¯æ—¥ã®å­¦ç¿’ã§åˆæ ¼ã‚’ç›®æŒ‡ãã†ï¼</p>
        </header>

        <div class="date-display" id="dateDisplay">
            ğŸ“… èª­ã¿è¾¼ã¿ä¸­...
        </div>

        <section class="section">
            <h2>ğŸ“ ä»Šæ—¥ã®å•é¡Œï¼ˆ10å•ï¼‰</h2>
            <div id="questionsContainer" class="loading">
                å•é¡Œã‚’èª­ã¿è¾¼ã¿ä¸­ã§ã™...
            </div>
        </section>

        <section class="section story-section">
            <h2 class="story-title">ğŸ’ª ä»Šæ—¥ã®åˆæ ¼ä½“é¨“è«‡</h2>
            <div id="storyContainer" class="loading">
                ä½“é¨“è«‡ã‚’èª­ã¿è¾¼ã¿ä¸­ã§ã™...
            </div>
        </section>

        <section class="section archive-section">
            <h2>ğŸ“‚ éå»ã®å•é¡Œ</h2>
            <div id="archiveContainer">
                <p style="text-align: center; color: #718096; font-style: italic;">éå»ã®å•é¡Œã‚’èª­ã¿è¾¼ã¿ä¸­...</p>
            </div>
        </section>

        <section class="section report-section">
            <h2>ğŸ“§ èª¤ã‚Šã®å ±å‘Š</h2>
            <p>å•é¡Œã‚„è§£èª¬ã«èª¤ã‚Šã‚’è¦‹ã¤ã‘ãŸå ´åˆã¯ã€ã“ã¡ã‚‰ã‹ã‚‰ãŠçŸ¥ã‚‰ã›ãã ã•ã„ã€‚</p>
            <a href="https://forms.google.com/..." class="report-link" target="_blank">
                èª¤ã‚Šã‚’å ±å‘Šã™ã‚‹
            </a>
        </section>
    </div>

    <script>
        // ä»Šæ—¥ã®æ—¥ä»˜ã‚’è¡¨ç¤º
        function displayCurrentDate() {
            const today = new Date();
            const options = { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric',
                weekday: 'long'
            };
            const dateString = today.toLocaleDateString('ja-JP', options);
            document.getElementById('dateDisplay').textContent = `ğŸ“… ${dateString}`;
        }

        // å•é¡Œãƒ‡ãƒ¼ã‚¿ã®ä¾‹ï¼ˆå®Ÿéš›ã¯JSONãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰å–å¾—ï¼‰
        const sampleQuestions = [
            {
                id: 1,
                question: "æ ªå¼ä¼šç¤¾ã®å–ç· å½¹ã¯ã€ä¼šç¤¾ã«å¯¾ã—ã¦å–„ç®¡æ³¨æ„ç¾©å‹™ã‚’è² ã†ã€‚",
                answer: true,
                explanation: "å–ç· å½¹ã¯ä¼šç¤¾ã¨ã®å§”ä»»é–¢ä¿‚ã«åŸºã¥ãã€å–„è‰¯ãªç®¡ç†è€…ã®æ³¨æ„ç¾©å‹™ï¼ˆå–„ç®¡æ³¨æ„ç¾©å‹™ï¼‰ã‚’è² ã„ã¾ã™ã€‚ã“ã‚Œã¯ä¼šç¤¾æ³•ç¬¬330æ¡ã«è¦å®šã•ã‚Œã¦ã„ã¾ã™ã€‚"
            },
            {
                id: 2,
                question: "å¥‘ç´„ã®æˆç«‹ã«ã¯ã€å¿…ãšæ›¸é¢ã§ã®åˆæ„ãŒå¿…è¦ã§ã‚ã‚‹ã€‚",
                answer: false,
                explanation: "å¥‘ç´„ã¯åŸå‰‡ã¨ã—ã¦å£é ­ã§ã®åˆæ„ã§ã‚‚æˆç«‹ã—ã¾ã™ã€‚ãŸã ã—ã€ä¸å‹•ç”£å£²è²·ãªã©æ³•å¾‹ã§æ›¸é¢ã‚’è¦æ±‚ã•ã‚Œã¦ã„ã‚‹å¥‘ç´„ã‚‚ã‚ã‚Šã¾ã™ã€‚"
            },
            {
                id: 3,
                question: "è‘—ä½œæ¨©ã®ä¿è­·æœŸé–“ã¯ã€è‘—ä½œè€…ã®æ­»å¾Œ50å¹´é–“ã§ã‚ã‚‹ã€‚",
                answer: false,
                explanation: "ç¾åœ¨ã®è‘—ä½œæ¨©æ³•ã§ã¯ã€è‘—ä½œè€…ã®æ­»å¾Œ70å¹´é–“ä¿è­·ã•ã‚Œã¾ã™ã€‚2018å¹´ã®æ³•æ”¹æ­£ã«ã‚ˆã‚Š50å¹´ã‹ã‚‰70å¹´ã«å»¶é•·ã•ã‚Œã¾ã—ãŸã€‚"
            },
            {
                id: 4,
                question: "åŠ´åƒåŸºæº–æ³•ã«ãŠã„ã¦ã€1æ—¥ã®åŠ´åƒæ™‚é–“ã¯åŸå‰‡ã¨ã—ã¦8æ™‚é–“ä»¥å†…ã¨ã•ã‚Œã¦ã„ã‚‹ã€‚",
                answer: true,
                explanation: "åŠ´åƒåŸºæº–æ³•ç¬¬32æ¡ã«ã‚ˆã‚Šã€1æ—¥ã®åŠ´åƒæ™‚é–“ã¯8æ™‚é–“ã€1é€±é–“ã®åŠ´åƒæ™‚é–“ã¯40æ™‚é–“ã‚’è¶…ãˆã¦ã¯ãªã‚‰ãªã„ã¨å®šã‚ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚"
            },
            {
                id: 5,
                question: "å€‹äººæƒ…å ±ä¿è­·æ³•ã¯ã€å€‹äººäº‹æ¥­ä¸»ã«ã¯é©ç”¨ã•ã‚Œãªã„ã€‚",
                answer: false,
                explanation: "å€‹äººæƒ…å ±ä¿è­·æ³•ã¯äº‹æ¥­ã®å½¢æ…‹ã«é–¢ã‚ã‚‰ãšã€å€‹äººæƒ…å ±ã‚’å–ã‚Šæ‰±ã†äº‹æ¥­è€…ã«é©ç”¨ã•ã‚Œã¾ã™ã€‚å€‹äººäº‹æ¥­ä¸»ã‚‚å¯¾è±¡ã¨ãªã‚Šã¾ã™ã€‚"
            },
            {
                id: 6,
                question: "å•†æ¨™æ¨©ã®å­˜ç¶šæœŸé–“ã¯ç™»éŒ²ã‹ã‚‰10å¹´é–“ã§ã€æ›´æ–°ã¯ã§ããªã„ã€‚",
                answer: false,
                explanation: "å•†æ¨™æ¨©ã®å­˜ç¶šæœŸé–“ã¯ç™»éŒ²ã‹ã‚‰10å¹´é–“ã§ã™ãŒã€10å¹´ã”ã¨ã«æ›´æ–°ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã€ç†è«–ä¸Šã¯æ°¸ç¶šçš„ã«ä¿è­·ã‚’å—ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚"
            },
            {
                id: 7,
                question: "æ ªä¸»ç·ä¼šã®æ™®é€šæ±ºè­°ã¯ã€å‡ºå¸­æ ªä¸»ã®è­°æ±ºæ¨©ã®éåŠæ•°ã§æ±ºè­°ã•ã‚Œã‚‹ã€‚",
                answer: true,
                explanation: "æ™®é€šæ±ºè­°ã¯ã€å®šè¶³æ•°ã®å®šã‚ãŒãªãã€å‡ºå¸­ã—ãŸè­°æ±ºæ¨©ã‚’è¡Œä½¿ã§ãã‚‹æ ªä¸»ã®è­°æ±ºæ¨©ã®éåŠæ•°ã§æ±ºè­°ã•ã‚Œã¾ã™ã€‚"
            },
            {
                id: 8,
                question: "ä¸‹è«‹ä»£é‡‘æ”¯æ‰•é…å»¶ç­‰é˜²æ­¢æ³•ã¯ã€è³‡æœ¬é‡‘3å„„å††ä»¥ä¸‹ã®ä¼šç¤¾ã«ã¯é©ç”¨ã•ã‚Œãªã„ã€‚",
                answer: false,
                explanation: "ä¸‹è«‹æ³•ã¯è¦ªäº‹æ¥­è€…ã®è³‡æœ¬é‡‘é¡ã¨ä¸‹è«‹äº‹æ¥­è€…ã¨ã®é–¢ä¿‚ã«ã‚ˆã‚Šé©ç”¨ãŒæ±ºã¾ã‚Šã¾ã™ã€‚è¦ªäº‹æ¥­è€…ãŒè³‡æœ¬é‡‘3å„„å††è¶…ã§ä¸‹è«‹äº‹æ¥­è€…ãŒ3å„„å††ä»¥ä¸‹ã®å ´åˆãªã©ã«é©ç”¨ã•ã‚Œã¾ã™ã€‚"
            },
            {
                id: 9,
                question: "è£½é€ ç‰©è²¬ä»»æ³•ï¼ˆPLæ³•ï¼‰ã§ã¯ã€è£½é€ è€…ã¯ç„¡éå¤±è²¬ä»»ã‚’è² ã†ã€‚",
                answer: true,
                explanation: "PLæ³•ã§ã¯ã€è£½é€ è€…ã¯è£½å“ã®æ¬ é™¥ã«ã¤ã„ã¦éå¤±ã®æœ‰ç„¡ã«é–¢ã‚ã‚‰ãšè²¬ä»»ã‚’è² ã„ã¾ã™ï¼ˆç„¡éå¤±è²¬ä»»ä¸»ç¾©ï¼‰ã€‚"
            },
            {
                id: 10,
                question: "ç‰¹è¨±æ¨©ã®å­˜ç¶šæœŸé–“ã¯ã€å‡ºé¡˜æ—¥ã‹ã‚‰20å¹´é–“ã§ã‚ã‚‹ã€‚",
                answer: true,
                explanation: "ç‰¹è¨±æ¨©ã®å­˜ç¶šæœŸé–“ã¯å‡ºé¡˜æ—¥ã‹ã‚‰20å¹´ã§ã™ã€‚ãŸã ã—ã€åŒ»è–¬å“ç­‰ã«ã¤ã„ã¦ã¯ç‰¹å®šã®æ¡ä»¶ä¸‹ã§å»¶é•·ã•ã‚Œã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚"
            }
        ];

        const sampleStory = {
            content: "ãƒ“ã‚¸æ³•3ç´šã®å‹‰å¼·ã‚’å§‹ã‚ãŸã¨ãã€æ³•å¾‹ç”¨èªã®å¤šã•ã«åœ§å€’ã•ã‚Œã¾ã—ãŸã€‚ã—ã‹ã—æ¯æ—¥å°‘ã—ãšã¤å•é¡Œã‚’è§£ãç¶šã‘ã‚‹ã“ã¨ã§ã€ã ã‚“ã ã‚“ç†è§£ãŒæ·±ã¾ã‚Šã€3ãƒ¶æœˆå¾Œã«ã¯è¦‹äº‹åˆæ ¼ï¼ç¶™ç¶šã¯åŠ›ãªã‚Šã‚’å®Ÿæ„Ÿã—ã¾ã—ãŸã€‚çš†ã•ã‚“ã‚‚è«¦ã‚ãšã«é ‘å¼µã£ã¦ãã ã•ã„ï¼"
        };

        // å•é¡Œã‚’è¡¨ç¤ºã™ã‚‹é–¢æ•°
        function displayQuestions(questions) {
            const container = document.getElementById('questionsContainer');
            container.innerHTML = '';

            questions.forEach(q => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question-item';
                questionDiv.innerHTML = `
                    <div class="question-number">å•é¡Œ ${q.id}</div>
                    <div class="question-text">${q.question}</div>
                    <button class="answer-button" onclick="toggleAnswer(${q.id})">
                        ç­”ãˆã‚’è¦‹ã‚‹
                    </button>
                    <div class="answer-section" id="answer-${q.id}">
                        <div class="correct-answer">
                            æ­£è§£: ${q.answer ? 'â—‹' : 'Ã—'}
                        </div>
                        <div class="explanation">
                            ${q.explanation}
                        </div>
                    </div>
                `;
                container.appendChild(questionDiv);
            });
        }

        // å›ç­”è¡¨ç¤ºåˆ‡ã‚Šæ›¿ãˆ
        function toggleAnswer(questionId) {
            const answerSection = document.getElementById(`answer-${questionId}`);
            answerSection.classList.toggle('show');
        }

        // ä½“é¨“è«‡ã‚’è¡¨ç¤ºã™ã‚‹é–¢æ•°
        function displayStory(story) {
            const container = document.getElementById('storyContainer');
            container.innerHTML = `<div class="story-content">${story.content}</div>`;
        }

        // ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿ï¼ˆå®Ÿéš›ã®JSONãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆï¼‰
        async function loadTodaysData() {
            try {
                const today = new Date().toISOString().slice(0, 10).replace(/-/g, '');
                
                try {
                    // ä»Šæ—¥ã®å•é¡Œã‚’èª­ã¿è¾¼ã¿
                    const questionsResponse = await fetch(`./data/questions_${today}.json`);
                    if (questionsResponse.ok) {
                        const questionsData = await questionsResponse.json();
                        displayQuestions(questionsData.questions);
                    } else {
                        // ä»Šæ—¥ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒãªã„å ´åˆã¯ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤º
                        displayQuestions(sampleQuestions);
                    }
                } catch (error) {
                    // ã‚¨ãƒ©ãƒ¼ã®å ´åˆã¯ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤º
                    displayQuestions(sampleQuestions);
                }
                
                try {
                    // ä»Šæ—¥ã®ä½“é¨“è«‡ã‚’èª­ã¿è¾¼ã¿
                    const storyResponse = await fetch(`./data/story_${today}.json`);
                    if (storyResponse.ok) {
                        const storyData = await storyResponse.json();
                        displayStory(storyData.story);
                    } else {
                        // ä»Šæ—¥ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒãªã„å ´åˆã¯ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤º
                        displayStory(sampleStory);
                    }
                } catch (error) {
                    // ã‚¨ãƒ©ãƒ¼ã®å ´åˆã¯ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤º
                    displayStory(sampleStory);
                }
                
                // éå»ã®å•é¡Œã‚’èª­ã¿è¾¼ã¿
                loadArchiveData();
                
            } catch (error) {
                console.error('ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸ:', error);
                document.getElementById('questionsContainer').innerHTML = 
                    '<div class="error">å•é¡Œã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã—ã°ã‚‰ãå¾Œã§ãŠè©¦ã—ãã ã•ã„ã€‚</div>';
                document.getElementById('storyContainer').innerHTML = 
                    '<div class="error">ä½“é¨“è«‡ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸã€‚</div>';
            }
        }
        
        // éå»ã®å•é¡Œã‚’èª­ã¿è¾¼ã‚€é–¢æ•°
        async function loadArchiveData() {
            const archiveContainer = document.getElementById('archiveContainer');
            const archiveDates = [];
            
            // éå»30æ—¥åˆ†ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒã‚§ãƒƒã‚¯
            for (let i = 1; i <= 30; i++) {
                const date = new Date();
                date.setDate(date.getDate() - i);
                const dateStr = date.toISOString().slice(0, 10).replace(/-/g, '');
                
                try {
                    const response = await fetch(`./data/questions_${dateStr}.json`);
                    if (response.ok) {
                        const displayDate = date.toLocaleDateString('ja-JP', {
                            year: 'numeric',
                            month: '2-digit',
                            day: '2-digit'
                        }).replace(/\//g, '/');
                        archiveDates.push({
                            date: dateStr,
                            display: displayDate,
                            fullDate: date
                        });
                    }
                } catch (error) {
                    // ãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ã—ãªã„å ´åˆã¯ç„¡è¦–
                }
            }
            
            if (archiveDates.length > 0) {
                // æ—¥ä»˜é †ã§ã‚½ãƒ¼ãƒˆï¼ˆæ–°ã—ã„é †ï¼‰
                archiveDates.sort((a, b) => b.fullDate - a.fullDate);
                
                const archiveLinksHTML = archiveDates.map(item => 
                    `<a href="#" class="archive-link" onclick="loadArchiveQuestions('${item.date}')">${item.display}</a>`
                ).join('');
                
                archiveContainer.innerHTML = `<div class="archive-links">${archiveLinksHTML}</div>`;
            } else {
                archiveContainer.innerHTML = 
                    '<p style="text-align: center; color: #718096; font-style: italic;">éå»ã®å•é¡Œã¯è“„ç©ã•ã‚Œæ¬¡ç¬¬ã€ã“ã¡ã‚‰ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</p>';
            }
        }
        
        // éå»ã®å•é¡Œã‚’è¡¨ç¤ºã™ã‚‹é–¢æ•°
        async function loadArchiveQuestions(dateStr) {
            try {
                const response = await fetch(`./data/questions_${dateStr}.json`);
                if (response.ok) {
                    const data = await response.json();
                    
                    // ä»Šæ—¥ã®å•é¡Œã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’éå»ã®å•é¡Œã§ç½®ãæ›ãˆ
                    const questionsContainer = document.getElementById('questionsContainer');
                    questionsContainer.innerHTML = '';
                    
                    // ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’è¿½åŠ 
                    const headerDiv = document.createElement('div');
                    headerDiv.style.cssText = 'text-align: center; margin-bottom: 20px; padding: 15px; background: #e6fffa; border-radius: 8px;';
                    const displayDate = new Date(dateStr.slice(0,4), dateStr.slice(4,6)-1, dateStr.slice(6,8)).toLocaleDateString('ja-JP');
                    headerDiv.innerHTML = `<strong>${displayDate} ã®å•é¡Œ</strong> <button onclick="loadTodaysData()" style="margin-left: 10px; padding: 5px 10px; background: #667eea; color: white; border: none; border-radius: 5px; cursor: pointer;">ä»Šæ—¥ã®å•é¡Œã«æˆ»ã‚‹</button>`;
                    questionsContainer.appendChild(headerDiv);
                    
                    // å•é¡Œã‚’è¡¨ç¤º
                    data.questions.forEach(q => {
                        const questionDiv = document.createElement('div');
                        questionDiv.className = 'question-item';
                        questionDiv.innerHTML = `
                            <div class="question-number">å•é¡Œ ${q.id}</div>
                            <div class="question-text">${q.question}</div>
                            <button class="answer-button" onclick="toggleAnswer('archive-${dateStr}-${q.id}')">
                                ç­”ãˆã‚’è¦‹ã‚‹
                            </button>
                            <div class="answer-section" id="answer-archive-${dateStr}-${q.id}">
                                <div class="correct-answer">
                                    æ­£è§£: ${q.answer ? 'â—‹' : 'Ã—'}
                                </div>
                                <div class="explanation">
                                    ${q.explanation}
                                </div>
                            </div>
                        `;
                        questionsContainer.appendChild(questionDiv);
                    });
                } else {
                    alert('éå»ã®å•é¡Œãƒ‡ãƒ¼ã‚¿ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚');
                }
            } catch (error) {
                console.error('éå»ã®å•é¡Œèª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼:', error);
                alert('éå»ã®å•é¡Œã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸã€‚');
            }
        }

        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã®åˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', function() {
            displayCurrentDate();
            loadTodaysData();
        });
    </script>
</body>
</html>